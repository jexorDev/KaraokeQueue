<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="fragments/header :: header-css"/>    
</head>
<body>

<div th:replace="fragments/header :: header"/>

<div class="container">
	<div class="row">
		<div class="col-2">
			<a th:href="@{/kiosk}" class="btn btn-primary btn-lg btn-block mt-3"><i class="fas fa-chevron-circle-left"></i> Back</a>
		</div>
		<div class="col-10">
			<h2 class="display-4 text-light">Cast vote for best performance</h2>		
		</div>
	</div>	
	<div th:each="user : ${userSongMap}">
		<div class="card border-light mt-2 bg-transparent">
			<div class="card-header">
				<div class="row">
					<div class="col-9">
						<p th:text="${user.key.firstName} + ' ' + ${user.key.lastName}" class="text-light"></p>
					</div>
					<div class="col-3">
						<th:block th:unless="${votingUser.vote?.id} == ${user.key.id}">
							<form th:action="@{/vote/} + ${user.key.id}" method="POST">	 
								<button class="btn btn-outline-success float-right" type="submit">Cast Vote</button>								 		
							</form>	
						</th:block>		
						<th:block th:if="${votingUser.vote?.id} == ${user.key.id}">
							<h5 class="text-light text-left"><span class="badge badge-success float-right">VOTE CASTED</span></h5>
						</th:block>
					</div>
								
				</div>
			</div>
			<div class="card-body text-light">
				<ul>
					<li th:each="song : ${user.value}" th:text="${song.songName} + ', ' + ${song.artistName}"></li>
				</ul>
			</div>		
		</div>
	</div>
	     
 
</div>



</body>
</html>
