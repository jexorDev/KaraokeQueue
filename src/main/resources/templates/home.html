<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="fragments/header :: header-css"/>
    <script th:src="@{/js/SongRequest/songRequest.js}"></script>
</head>
<body>

<div th:replace="fragments/header :: header"/>

<div class="container">

<div class="panel panel-info">
	<div class="panel panel-heading">
		Next in line
	</div>
	<div class="panel panel-body">
		<div th:each="nextRequest : ${nextRequests}" class="well well-sm">			
			<h4 th:text="${nextRequest.user.firstName} + ' ' + ${nextRequest.user.lastName}"></h4>			
			<div th:unless="${nextRequest.duetUser} == null">
						<h4><span class="label label-primary">Joined by</span></h4>
						<h4 th:text="${nextRequest.duetUser.firstName}"></h4>
					</div>
		</div>
	</div>
</div>

<div class="panel panel-info">
	<div class="panel panel-heading">
		Your requests
	</div>
	<div class="panel panel-body">
		<div th:each="songRequest : ${songRequests}" class="well well-sm">
			<div th:if="${songRequest.sequence} == 0" class="alert alert-info">
				<strong>Get Ready!</strong> You are up soon.
			</div>
			<div class="container">
				<div class="row">
					<div class="col-sm-4">
						<h4><span class="label label-default">Song</span></h4>
						<h4 th:text="${songRequest.songName}"></h4>
					</div>
					<div class="col-sm-4">
						<h4><span class="label label-default">Artist</span></h4>
						<h4 th:text="${songRequest.artistName}"></h4>
					</div>
					<div class="col-sm-4" th:unless="${songRequest.duetUser} == null">
						<h4><span class="label label-default">Joined by</span></h4>
						<h4 th:text="${songRequest.duetUser.firstName}"></h4>
					</div>
				</div>
			</div>
			<br/>			
			<form th:action="@{/request/delete/} + ${songRequest.id}" method="POST">			 
				<button type="submit" class="btn btn-danger">
					 Cancel Request
				</button>			
			</form>
		</div>
		<a th:href="@{/request/create}" class="btn btn-success">New Song Request</a>
	</div>	
</div>

</div>

</body>
</html>
